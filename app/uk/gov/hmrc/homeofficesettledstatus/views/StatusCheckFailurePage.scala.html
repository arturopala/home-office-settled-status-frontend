@*
 * Copyright 2020 HM Revenue & Customs
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *@

@import uk.gov.hmrc.homeofficesettledstatus.controllers.routes.HomeOfficeSettledStatusFrontendController
@import play.api.Configuration
@import uk.gov.hmrc.homeofficesettledstatus.models.StatusCheckByNinoRequest
@import uk.gov.hmrc.homeofficesettledstatus.models.StatusCheckError
@import uk.gov.hmrc.play.views.html.helpers.{ErrorSummary, FormWithCSRF, Input}
@import uk.gov.hmrc.play.views.html.helpers.DateFieldsFreeInlineLegend
@import uk.gov.hmrc.homeofficesettledstatus.views.LayoutComponents

@this(layout: LayoutComponents)

@(query: StatusCheckByNinoRequest, statusCheckError:StatusCheckError, changeCall: Call, searchAgainCall: Call)(implicit request: Request[_], messages: Messages, config: Configuration)

@layout.mainTemplate(title = Messages("status-check-failure.title"), bodyClasses = Some("full-width")) {

    <div class="grid-row">
        <div class="column-two-thirds">

    <h1 class="heading-xlarge">@Messages("status-check-failure.title")</h1>

   <p>
    A match has not been found using the details given, this may be for a number of reasons including:</p>

   <ul class="list list-bullet">
    <li>The customer has not applied for settled status</li>
    <li>The details are incorrect</li>
   </ul>

   <p>If you typed the details, check they are correct and perform the search again.
   </p>


   <h2 class="heading-medium">Personal details</h2>

    <table class="form-group">
        <tbody>
            <tr>
                <th scope="row">@messages("generic.nino")</th>
                <td>@query.nino.formatted</td>
                <td><a class="govuk-link" href="@changeCall.url">@messages("generic.change")</a></td>
            </tr>
            <tr>
                <th scope="row">@messages("generic.givenName")</th>
                <td colspan="2">@query.givenName</td>
            </tr>
            <tr>
                <th scope="row">@messages("generic.familyName")</th>
                <td colspan="2">@query.familyName</td>
            </tr>
            <tr>
                <th scope="row">@messages("generic.dob")</th>
                <td colspan="2">@query.dateOfBirth</td>
            </tr>
        </tbody>
    </table>

   <p>
    If the details are correct, <a href="#" class="govuk-link">contact the TBC Helpline</a> if you need to speak to someone.
   </p>

   <p>To start a new search click here.</p>

   <p>
     <form action="@searchAgainCall.url" method="get" novalidate="">
      <input type="hidden" name="answers-checked" value="true">
      <button class="govuk-button" data-module="govuk-button">@messages("generic.searchAgain")</button>
     </form>
   </p>
        </div>
    </div>
}
